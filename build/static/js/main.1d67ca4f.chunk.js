(window["webpackJsonpmy-react-app"]=window["webpackJsonpmy-react-app"]||[]).push([[0],{16:function(e,a,t){e.exports=t.p+"static/media/noimage.4906efc3.jpg"},17:function(e,a){},28:function(e,a,t){e.exports=t(56)},33:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},56:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),l=t.n(c),s=(t(33),t(1)),o=t(2),i=t(4),m=t(3),u=t(5),h=(t(34),t(35),function(){return r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))}),p=t(23),b=t(16),d=t.n(b),f=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={books:[],category:[]},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"makeFetch",value:function(){var e=this;fetch("http://localhost:15350/api/book/all").then(function(e){return e.json()}).then(function(a){return e.setState({books:a})})}},{key:"componentDidMount",value:function(){var e=this.props.match.params,a=this.props.location.search;void 0===a?void 0===e?(this.makeFetch(),this.props.search()):this.props.search(e):this.props.actualSearch(a)}},{key:"render",value:function(){var e=this.props.location.search,a=this.props.match.params.category,t=this.props.books.map(function(e){return r.a.createElement("div",{key:e.id,id:e.id,className:"col-xl-4 col-lg-3 col-md-4 col-sm-4 display-books"},r.a.createElement(p.a,{trigger:r.a.createElement("img",{src:e.imageLink,id:"myImg",alt:d.a}),modal:!0},r.a.createElement("div",{className:"popup",onScroll:"myFunc"},r.a.createElement("img",{src:e.imageLink,className:"imagePopup",alt:d.a}),r.a.createElement("p",{className:"title"},e.title),r.a.createElement("p",{className:"basic-info"},"Pages: ",e.pageCount,r.a.createElement("br",null),"Published date: ",e.publishedDate),r.a.createElement("p",{className:"subtitle"},e.subtitle))),r.a.createElement("h6",null,e.title))});return void 0!==e?this.props.isSearch?r.a.createElement("div",null,r.a.createElement("h2",{className:"book-search"},"Book search for ",this.props.match.params.category),r.a.createElement("div",{className:"container"},t)):r.a.createElement("div",null,r.a.createElement("h2",{className:"book-search"},"Book search for ",this.props.match.params.category),r.a.createElement(h,null)):void 0!==a?0===t.length?r.a.createElement("div",null,r.a.createElement("h2",{className:"book-search"},"Book search for ",this.props.match.params.category),r.a.createElement(h,null)):r.a.createElement("div",null,r.a.createElement("h2",{className:"book-search"},"Book search for ",this.props.match.params.category),r.a.createElement("div",{className:"container"},t)):0===t.length?r.a.createElement("div",null,r.a.createElement("h2",{className:"book-search"},"Book search for ",this.props.match.params.category),r.a.createElement(h,null)):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"book-search"},"Book search for ",this.props.match.params.category),r.a.createElement("div",{className:"row"},t))}}]),a}(r.a.Component),E=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleInput=function(a){e.setState({inputText:a.target.value})},e.state={inputText:""},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e="/"+this.state.inputText;return r.a.createElement("form",{className:"form-inline my-2 my-lg-0",id:"search-form",method:"GET",action:e},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search for Book","aria-label":"Search",onChange:this.handleInput,name:"search",value:this.state.inputText}),r.a.createElement("button",{className:"btn btn-outline-light my-2 grn",type:"submit"},"Search"))}}]),a}(r.a.Component),v=t(17),g=t.n(v),y=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={category:[]},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.category,a=this.props.currentCategory,t=e.map(function(e){var t="/"+e.subCategories;return a===e.name?r.a.createElement(g.a,{text:e.name,isActive:!0,key:e.categoryId,url:t}):r.a.createElement(g.a,{text:e.name,isActive:!1,key:e.id,url:t})});return r.a.createElement("nav",{className:"navbar navbar-expand-lg bgNav"},r.a.createElement("span",{className:"navbar-brand "},"Book Catalog"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},t),r.a.createElement(E,{search:this.handleSearch})),r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("button",{type:"button",id:"sidebarCollapse",className:"btn btn-info"},r.a.createElement("i",{className:"fa fa-filter  fa-lg"})))))}}]),a}(r.a.Component),k=function(){return r.a.createElement("div",{className:"thought"},"\u201cI have always imagined that Paradise will be a kind of library.\u201d ",r.a.createElement("br",null),"\u2015 Jorge Luis Borges",r.a.createElement("hr",null))},j=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handleFilter",value:function(e){var a="/"+e+"?search="+e;return r.a.createElement("div",{className:"dropdown-container"},r.a.createElement("a",{href:a,className:"bm-item"},r.a.createElement("i",{className:"fa fa-angle-right"}),r.a.createElement("span",null)))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("nav",{id:"sidebar",className:"active"},r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("h3",null,"Filter by:")),r.a.createElement("ul",{className:"filter-comp"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",className:"dropdown-btn bm-item"},r.a.createElement("i",{className:"fa fa-book"}),r.a.createElement("span",{className:"lft",onClick:this.handleFilter},"Title"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#",className:"dropdown-btn bm-item"},r.a.createElement("i",{className:"fa fa-window-restore"}),r.a.createElement("span",{onClick:this.handleFilter},"Category"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#",className:"dropdown-btn bm-item"},r.a.createElement("i",{className:"fa fa-user"}),r.a.createElement("span",{className:"lft"},"Author"))))))}}]),a}(r.a.Component),O=t(24),N=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.item.name,a="/"+e+"?search="+e;return r.a.createElement("div",{className:"dropdown-container"},r.a.createElement("a",{href:a,className:"bm-item"},r.a.createElement("i",{className:"fa fa-angle-right"}),r.a.createElement("span",null,e)))}}]),a}(r.a.Component),C=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"toggleSubCategories",value:function(){var e="sub"+this.props.current.name,a=document.getElementById(e);"none"===a.style.display?a.style.display="block":a.style.display="none"}},{key:"render",value:function(){if(void 0===this.props.current)return r.a.createElement("div",null);var e=this.props.current.subCategories,a=this.props.current.name,t=e.map(function(e){return r.a.createElement(N,{item:e,key:e.id})}),n="sub"+a;return r.a.createElement("div",null,r.a.createElement("span",{id:this.props.current.id,className:"dropdown-btn bm-item",onClick:this.toggleSubCategories.bind(this)},a),r.a.createElement("div",{id:n,style:{display:"none"}},t))}}]),a}(r.a.Component),S=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={category:[]},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"makeFetch",value:function(){var e=this;fetch("http://localhost:15350/api/category/all").then(function(e){return e.json()}).then(function(a){return e.setState({category:a})})}},{key:"componentDidMount",value:function(){this.makeFetch()}},{key:"render",value:function(){var e=this.state.category.map(function(e){return r.a.createElement(C,{key:e.id,current:e})});return r.a.createElement(O.slide,null,r.a.createElement("div",{className:"book-categories"},"BOOK CATEGORIES"),r.a.createElement("div",null,e))}}]),a}(r.a.Component),w=t(25),x=t(12),B=function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("a",{href:"/home",className:"bm-item"})}}]),a}(r.a.Component),F=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={books:[]},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.books.map(function(e){return r.a.createElement(B,{item:e,key:e.id})});return console.log(e),r.a.createElement("div",null,e)}}]),a}(r.a.Component),A=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleSearch=function(a){if(a===e.state.category||void 0===a)return"handleSearch";e.fetchCategory(a),console.log("handleSearch2")},e.searchApi=function(a){var t="http://localhost:15350/api/book/search".concat(a);fetch(t).then(function(e){return e.json()}).then(function(a){return e.setState({books:a,search:!0})}),console.log("searchApi")},e.state={books:[],category:[],search:!1},e}return Object(u.a)(a,e),Object(o.a)(a,[{key:"fetchCategory",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t="http://localhost:15350/api/book/category/".concat(a);"default"===a&&(console.log(a),t="http://localhost:15350/api/book/all"),fetch(t).then(function(e){return e.json()}).then(function(a){return e.setState({books:a,search:!1})})}},{key:"render",value:function(){var e=this,a=this.state.books;return console.log(a),r.a.createElement(w.a,null,r.a.createElement(y,{search:this.handleSearch,currentCategory:this.state.category}),r.a.createElement(S,null),r.a.createElement(j,null),r.a.createElement("div",null,r.a.createElement(x.c,null,r.a.createElement(x.a,{exact:!0,path:"/home",render:function(t){return r.a.createElement(F,Object.assign({},t,{books:a,category:e.state.category,search:e.handleSearch,actualSearch:e.searchApi,isSearch:e.state.search}))}}),r.a.createElement(x.a,{exact:!0,path:"/:category",render:function(t){return r.a.createElement(f,Object.assign({},t,{books:a,category:e.state.category,search:e.handleSearch,actualSearch:e.searchApi,isSearch:e.state.search}))}}))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.1d67ca4f.chunk.js.map